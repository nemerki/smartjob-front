/* JTSage-DateBox-5.1.5 (bulma) | 2019-07-15T16:49:28.699Z | (c) 2010,2019 JTSage | https://github.com/jtsage/jtsage-datebox/blob/master/LICENSE.txt */

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(l){if(void 0!==l.widget)return!1;var i=0,o=Array.prototype.slice;l.widget=function(e,i,t){var a,n,s,o={},r=e.split(".")[0],d=r+"-"+(e=e.split(".")[1]);return t||(t=i,i=l.Widget),l.isArray(t)&&(t=l.extend.apply(null,[{}].concat(t))),l.expr[":"][d.toLowerCase()]=function(e){return!!l.data(e,d)},l[r]=l[r]||{},a=l[r][e],n=l[r][e]=function(e,t){if(!this._createWidget)return new n(e,t);arguments.length&&this._createWidget(e,t)},l.extend(n,a,{version:t.version,_proto:l.extend({},t),_childConstructors:[]}),(s=new i).options=l.widget.extend({},s.options),l.each(t,function(t,a){function n(){return i.prototype[t].apply(this,arguments)}function s(e){return i.prototype[t].apply(this,e)}o[t]="function"==typeof a?function(){var e,t=this._super,i=this._superApply;return this._super=n,this._superApply=s,e=a.apply(this,arguments),this._super=t,this._superApply=i,e}:a}),n.prototype=l.widget.extend(s,{widgetEventPrefix:a&&s.widgetEventPrefix||e},o,{constructor:n,namespace:r,widgetName:e,widgetFullName:d}),a?(l.each(a._childConstructors,function(e,t){var i=t.prototype;l.widget(i.namespace+"."+i.widgetName,n,t._proto)}),delete a._childConstructors):i._childConstructors.push(n),l.widget.bridge(e,n),n},l.widget.extend=function(e){for(var t,i,a=o.call(arguments,1),n=0,s=a.length;n<s;n++)for(t in a[n])i=a[n][t],a[n].hasOwnProperty(t)&&void 0!==i&&(l.isPlainObject(i)?e[t]=l.isPlainObject(e[t])?l.widget.extend({},e[t],i):l.widget.extend({},i):e[t]=i);return e},l.widget.bridge=function(e,t){var s=t.prototype.widgetFullName||e;l.fn[e]=function(i){var e="string"==typeof i,a=o.call(arguments,1),n=this;return e?this.length||"instance"!==i?this.each(function(){var e,t=l.data(this,s);return"instance"===i?(n=t,!1):!!t&&("function"==typeof t[i]&&"_"!==i.charAt(0)&&((e=t[i].apply(t,a))!==t&&void 0!==e?(n=e&&e.jquery?n.pushStack(e.get()):e,!1):void 0))}):n=void 0:(a.length&&(i=l.widget.extend.apply(null,[i].concat(a))),this.each(function(){var e=l.data(this,s);e?(e.option(i||{}),e._init&&e._init()):l.data(this,s,new t(i,this))})),n}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=l(t||this.defaultElement||this)[0],this.element=l(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=l(),this.hoverable=l(),this.focusable=l(),this.classesElementLookup={},t!==this&&(l.data(t,this.widgetFullName,this),this.document=l(t.style?t.ownerDocument:t.document||t),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this.options=l.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){this._destroy(),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:l.noop,widget:function(){return this.element},option:function(e,t){var i,a,n,s=e;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(a=s[e]=l.widget.extend({},this.options[e]),n=0;n<i.length-1;n++)a[i[n]]=a[i[n]]||{},a=a[i[n]];if(e=i.pop(),1===arguments.length)return void 0===a[e]?null:a[e];a[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_trigger:function(e,t,i){var a,n,s=this.options[e];if(i=i||{},(t=l.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],n=t.originalEvent)for(a in n)a in t||(t[a]=n[a]);return this.element.trigger(t,i),!("function"==typeof s&&!1===s.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}};l.widget}),function(y){y.widget("jtsage.datebox",{initSelector:"input[data-role='datebox']",options:{mode:!1,hideInput:!1,lockInput:!0,safeEdit:!0,controlWidth:"290px",controlWidthImp:"",breakpointWidth:"567px",zindex:"1100",clickEvent:"click",disableWheel:!1,useKinetic:!0,flipSizeOverride:!1,defaultValue:!1,showInitialValue:!1,linkedField:!1,linkedFieldFormat:"%J",displayMode:"dropdown",displayDropdownPosition:"bottomRight",displayInlinePosition:"center",displayForcePosition:!1,dismissOutsideClick:!0,dismissOnEscape:!1,useHeader:!0,useImmediate:!1,useButton:!0,buttonIcon:!1,useFocus:!1,useSetButton:!0,useCancelButton:!1,useTodayButton:!1,closeTodayButton:!1,useTomorrowButton:!1,closeTomorrowButton:!1,useClearButton:!1,useCollapsedBut:!1,usePlaceholder:!1,beforeOpenCallback:!1,beforeOpenCallbackArgs:[],openCallback:!1,openCallbackArgs:[],closeCallback:!1,closeCallbackArgs:[],runOnBlurCallback:!1,startOffsetYears:!1,startOffsetMonths:!1,startOffsetDays:!1,afterToday:!1,beforeToday:!1,notToday:!1,maxDate:!1,minDate:!1,maxDays:!1,minDays:!1,maxYear:!1,minYear:!1,blackDates:!1,blackDatesRec:!1,blackDays:!1,whiteDates:!1,enableDates:!1,validHours:!1,minHour:!1,maxHour:!1,minTime:!1,maxTime:!1,maxDur:!1,minDur:!1,minuteStep:1,minuteStepRound:0,twoDigitYearCutoff:38,flipboxLensAdjust:!1,rolloverMode:{m:!0,d:!0,h:!0,i:!0,s:!0},useLang:"default",lang:{default:{setDateButtonLabel:"Set Date",setTimeButtonLabel:"Set Time",setDurationButtonLabel:"Set Duration",todayButtonLabel:"Jump to Today",tomorrowButtonLabel:"Jump to Tomorrow",titleDateDialogLabel:"Set Date",titleTimeDialogLabel:"Set Time",daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysOfWeekShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsOfYearShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],durationLabel:["Days","Hours","Minutes","Seconds"],durationDays:["Day","Days"],timeFormat:24,headerFormat:"%A, %B %-d, %Y",tooltip:"Open Date Picker",nextMonth:"Next Month",prevMonth:"Previous Month",dateFieldOrder:["m","d","y"],timeFieldOrder:["h","i","a"],datetimeFieldOrder:["y","m","d","h","i","s","a"],slideFieldOrder:["y","m","d"],dateFormat:"%Y-%m-%d",datetimeFormat:"%Y-%m-%dT%k:%M:%S",useArabicIndic:!1,isRTL:!1,calStartDay:0,clearButton:"Clear",cancelButton:"Cancel",durationOrder:["d","h","i","s"],meridiem:["AM","PM"],timeOutput:"%k:%M",durationFormat:"%Dd %DA, %Dl:%DM:%DS",calDateListLabel:"Other Dates",calHeaderFormat:"%B %Y"}},theme_clearBtn:["clear","is-fullwidth is-marginless is-secondary"],theme_closeBtn:["check","is-fullwidth is-marginless is-secondary"],theme_cancelBtn:["cancel","is-fullwidth is-marginless is-secondary"],theme_tomorrowBtn:["goto","is-fullwidth is-marginless is-secondary"],theme_todayBtn:["goto","is-fullwidth is-marginless is-secondary"],theme_dropdownContainer:"card",theme_modalContainer:"card",theme_inlineContainer:"card",theme_headerTheme:"is-dark",theme_headerBtn:["cancel","is-light"],theme_openButton:"is-primary",theme_cal_Today:"is-info",theme_cal_DayHigh:"is-warning",theme_cal_Selected:"is-success",theme_cal_DateHigh:"is-warning",theme_cal_DateHighAlt:"is-danger",theme_cal_DateHighRec:"is-warning",theme_cal_Default:"is-outlined is-primary",theme_cal_OutOfBounds:"is-white",theme_cal_NextBtn:["next","is-white"],theme_cal_PrevBtn:["prev","is-white"],theme_cal_Pickers:!1,theme_cal_DateList:!1,theme_dbox_NextBtn:["plus","is-outlined is-dark"],theme_dbox_PrevBtn:["minus","is-outlined is-dark"],theme_dbox_Inputs:!1,theme_fbox_Selected:"is-success",theme_fbox_Default:"is-light",theme_fbox_Forbidden:"is-danger",theme_fbox_RollHeight:"135px",theme_slide_Today:"is-info",theme_slide_DayHigh:"is-warning",theme_slide_Selected:"is-success",theme_slide_DateHigh:"is-warning",theme_slide_DateHighAlt:"is-danger",theme_slide_DateHighRec:"is-warning",theme_slide_Default:"is-primary",theme_slide_NextBtn:["plus","is-white"],theme_slide_PrevBtn:["minus","is-white"],theme_slide_NextDateBtn:["next","is-white"],theme_slide_PrevDateBtn:["prev","is-white"],theme_slide_Pickers:!1,theme_slide_DateList:!1,theme_backgroundMask:{position:"fixed",left:0,top:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,.4)"},theme_headStyle:" .db-show {padding-bottom: .3em; margin-bottom:.3em}",theme_spanStyle:!1,buttonIconDate:"calendar",buttonIconTime:"clock",disabledState:"disabled",tranDone:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",calHighToday:!0,calHighPick:!0,calHighOutOfBounds:!0,calSelectedOutOfBounds:!0,calShowDays:!0,calOnlyMonth:!1,calShowWeek:!1,calUsePickers:!1,calNoHeader:!1,calYearPickMin:-6,calYearPickMax:6,calYearPickRelative:!0,calFormatter:!1,calBeforeAppendFunc:function(e){return e},highDays:!1,highDates:!1,highDatesRec:!1,highDatesAlt:!1,calDateList:!1,calShowDateList:!1,durationStep:1,durationSteppers:{d:1,h:1,i:1,s:1},flen:{y:25,m:24,d:40,h:24,i:30,s:30,a:30},fboxNatural:"default",slideHighToday:!0,slideHighPick:!0,slideUsePickers:!1,slideNoHeader:!1,slideYearPickMin:-6,slideYearPickMax:6,slideYearPickRelative:!0,slideDateList:!1,slideShowDateList:!1},icons:{getIcon:function(e){var t=this,i=t.options.iconFactory;return!1!==e&&("function"==typeof i?i.call(t,e):"<svg"===e.substr(0,4)?e:void 0!==t.icons[e]?t.icons[e]:t.icons.cancel)},next:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M9.8 6L4 11.8l-1.8-1.7L6.6 6 2.2 2 4 .1 9.8 6z" clip-rule="evenodd" fill-rule="evenodd"/></svg>',prev:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M2.2 6L8 .2l1.8 1.7L5.4 6l4.4 4L8 11.9 2.2 6z" clip-rule="evenodd" fill-rule="evenodd"/></svg>',plus:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5v2h12V5H0z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 0H5v12h2V0z" fill="currentColor"/></svg>',minus:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M0 5v2h12V5H0z" clip-rule="evenodd" fill-rule="evenodd"/></svg>',check:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 2.8l-8 8-4-4 1.5-1.5L4 7.8l6.5-6.5L12 2.6z" clip-rule="evenodd" fill-rule="evenodd"/></svg>',cancel:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M11 2.5L9.4 1 1.1 9.5 2.5 11l8.4-8.4z" clip-rule="evenodd" fill-rule="evenodd"/><path fill="currentColor" d="M2.5 1L1 2.6l8.4 8.4L11 9.5 2.5 1.1z" clip-rule="evenodd" fill-rule="evenodd"/></svg>',goto:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M7 3.3C3.8 3.6.4 5.9.4 11.7c2-4.3 4-5 6.8-5v2.9l4.6-4.7L7.1.3v3z" fill-rule="evenodd"/></svg>',clear:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.8 1H8.1c0-.5-.4-1-.8-1H4.7C4.3 0 4 .6 4 1H2.2c-.4 0-.8.3-.8.8v.8c0 .5.4.8.8.8V11c0 .5.4.9.9.9H9c.4 0 .8-.4.8-.9V3.4c.5 0 .8-.3.8-.8v-.8c0-.5-.3-.9-.8-.9zM9 11H3V3.6H4v6.7h.8V3.5h.9v6.7h.8V3.5h.9v6.7H8V3.5h.8V11zm.8-8.4H2.2v-.8h7.6v.8z" fill="currentColor"/></svg>',clock:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M6.8 6h2.5v1.7H5.9a.8.8 0 0 1-.8-.8V2.6h1.7V6zM6 1.2a4.8 4.8 0 1 1 0 9.6 4.8 4.8 0 0 1 0-9.6zM6 .1a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6z" clip-rule="evenodd" fill-rule="evenodd"/></svg>',calendar:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M10.5 1h-.8v1.3c0 .2-.2.4-.4.4H7.6a.4.4 0 0 1-.4-.4V1H4.7v1.3c0 .2-.2.4-.4.4H2.6a.4.4 0 0 1-.4-.4V1h-.8c-.5 0-.8.4-.8.8V11c0 .5.4.8.8.8h9.3c.5 0 .8-.4.8-.8V1.8c0-.5-.4-.8-.8-.8zm0 10.1H1.2V3.5h9.3v7.6zM3.7 1.9h-.8V.2h.8v1.7zm5.1 0H8V.2h.8v1.7zM4.5 5.3h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zM2.8 7H2v-.8h.8V7zm1.7 0h-.8v-.8h.8V7zm1.7 0h-.8v-.8h.8V7zm1.7 0h-.8v-.8h.8V7zm1.7 0h-.8v-.8h.8V7zM2.8 8.7H2v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm-6.8 1.7H2v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8zm1.7 0h-.8v-.8h.8v.8z"/></svg>'},styleFunctions:{},_getLongOptions:function(e){var t,i,a={};for(t in e.data())"datebox"===t.substr(0,7)&&7<t.length&&"options"!==(i=(i=t.substr(7)).charAt(0).toLowerCase()+i.slice(1))&&(a[i]=e.data(t));return a},_setOption:function(){y.Widget.prototype._setOption.apply(this,arguments),this.refresh()},getOption:function(e){var t=this.__(e);return"Err:NotFound"!==t?t:this.options[e]},style_attach:function(e){var t,i=0,a=this.d.wrap,n=y("body").find("#"+this.baseID+"-dbAttach");if(1===n.length)return n;if(!e)return y("body");for(t=a;;){if(i++,(a=a.parent()).is("form"))return t;if(20<i)return y("body");t=a}},style_btn:function(e,t){var i;return t=void 0===t?"":t,i="<a href='#' role='button' class='button "+e[1]+"'>",i+=!1!==e[0]?"<span>"+this.icons.getIcon.call(this,e[0])+"</span> ":"",i+=t+"</a>"},style_btnGrp:function(){return y("<div class='buttons is-fullwidth' style='padding: .3em;'>")},style_inWrap:function(e){return e.closest(".field").addClass("has-addons"),e.closest(".control").addClass("is-expanded"),e.closest(".field")},style_inBtn:function(e,t,i){return'<div class="control"><a title="'+t+'" class="dbOpenButton button '+i+'">'+this.icons.getIcon.call(this,e)+"</a></div>"},style_inNoBtn:function(){return!0},style_inHide:function(){for(var e=this.d.wrap,t=0,i=this.d.wrap;;){if(t++,(i=i.parent()).is("form"))return e.hide(),!0;if(20<t)return this.d.wrap.hide(),!0;e=i}},style_mainHead:function(e,t,i){return'<div class="navbar '+t+'"><div class="navbar-brand"><strong class="navbar-item">'+e+'</strong></div><div class="is-active navbar-menu"><div class="navbar-end"><div class="navbar-item">'+this.style_btn([i[0],i[1]+" dbCloser"])+"</div></div></div></div>"},style_subHead:function(e){return y("<div class='is-size-5 has-text-centered dbHeader' style='padding: .3em 0'>"+e+"</div>")},style_pnHead:function(e,t,i,a,n){var s=y("<div class='columns is-mobile is-vcentered' style='padding:.3em'>");return y("<div class='column is-2'>").append(y(this.style_btn([t[0],t[1]+" is-fullwidth "+a]))).appendTo(s),y("<div class='column'><div class='title is-5 has-text-centered'>"+e+"</div></div>").appendTo(s),y("<div class='column is-2'>").append(y(this.style_btn([i[0],i[1]+" is-fullwidth "+n]))).appendTo(s),s},style_picker:function(e,t,i,a){var n="";return n+="<div class='columns is-mobile is-gapless' style='padding:.3em'>",n+="<div class='column is-8'><div class='select is-fullwidth'>",n+=this._stdSel(e.month,i,""),n+="</div></div>",n+="<div class='column is-4'><div class='select is-fullwidth'>",n+=this._stdSel(e.year,a,""),n+="</div></div>",y(n+="</div>")},style_dateList:function(e,t,i,a){var n="",s=t.slice();return s.unshift([!1,e,!0]),n+="<div class='select is-fullwidth' ",n+="style='margin:.8em 0; padding:0 .3em;'>",n+=this._stdSel(s,a,""),y(n+="</div>")},style_calGrid:function(){return y("<div style='padding:.3em'><table class='dbCalGrid' style='width:100%'></table></div>")},style_calRow:function(){return y("<tr>")},style_calBtn:function(e,t){var i=void 0!==t?" style='width: "+100/t+"%'":"",a=e.bad?"disabled='disabled'":"",n="class='dbEvent is-fullwidth button "+e.theme+(e.bad?" disabled":"")+"'";return y("<td class='has-text-centered'"+i+"><a href='#' style='padding-left:0; padding-right:0;' "+n+" "+a+">"+e.displayText+"</a></td>")},style_calTxt:function(e,t,i){return y("<td class='has-text-centered"+(t?" has-text-weight-bold":"")+"'"+(void 0!==i?" style='width: "+100/i+"%'":"")+">"+e+"</td>")},style_dboxCtr:function(){return y("<div>")},style_dboxRow:function(){return y("<div class='columns is-mobile is-gapless' style='padding-left:.3em; padding-right: .3em; margin-bottom: .3em' >")},style_dboxCtrl:function(e,t,i,a){var n="";return n+="<div class='column dbBox"+i+"'>",n+=this.style_btn([t[0],t[1]+" dbBoxNext is-fullwidth"]),null!==a&&(n+="<div class='w-100 form-control rounded-0 p-0 text-center' style='height:auto'>"+a+"</div>"),n+="<input style='padding-left:0;padding-right:0' type='text' ",n+="class='input has-text-centered'>",n+=this.style_btn([e[0],e[1]+" dbBoxNext is-fullwidth"]),y(n+="</div>")},style_slideGrid:function(){return y("<div><table class='dbSlideGrid' style='width:100%'></table></div>")},style_slideRow:function(){return y("<tr>")},style_slideBtn:function(e){var t=e.bad?"disabled='disabled'":"",i="class='dbEventS button is-paddingless is-fullwidth "+e.theme+(e.bad?" disabled":"")+"'";return y("<td class='has-text-centered' style='width: 12.5%'><span class='is-size-7'>"+this.__("daysOfWeekShort")[e.dateObj.getDay()]+"</span><a href='#' "+i+" "+t+"><span class='is-size-4'>"+e.dateObj.getDate()+"</span></a></td>")},style_slideCtrl:function(e,t){var i="class='button is-small is-paddingless is-fullwidth "+t[1]+" "+e+"'";return y("<td class='has-text-centered' style='vertical-align: middle; width: 6.25%'><a href='#' "+i+">"+this.icons.getIcon.call(this,t[0])+"</a></td>")},style_fboxCtr:function(e){return y("<div class='columns is-mobile is-gapless' style='margin: 0; padding: 0 3px; height: "+e+"; overflow: hidden'>")},style_fboxDurLbls:function(){return y("<div class='columns is-mobile is-gapless' style='margin-bottom: 0px;'>")},style_fboxDurLbl:function(e,t){return y("<div class='column has-text-centered' style='width: "+100/t+"%'>"+e+"</div>")},style_fboxRollCtr:function(){return y("<div class='column'>")},style_fboxRollPrt:function(){return y("<div>")},style_fboxRollCld:function(e,t){return y("<p class='field' style='margin-bottom: 0px'><span style='width: 100%' class='tag is-medium "+t+"'>"+e+"</span></p>")},style_fboxLens:function(){return y("<div class='lensylens' style='height:48px; border:1px solid black; box-shadow: 0 .5rem 1rem rgba(0,0,0,.15); margin-left: 1px; margin-right: 1px;' >")},style_fboxPos:function(){var e,t,i,a,n=this.options,s=this.d.intHTML.find(".dbRollerC").height(),o=this.d.intHTML.find(".dbRollerV").outerHeight(!0),r=this.d.intHTML.find(".dbLens").first(),d=r.outerHeight();if(s<1)return!0;a=-1*(o/2+d/2),r.css({top:a,marginBottom:-1*d}),this.d.intHTML.find(".dbRoller").each(function(){e=y(this),"0px"===(t=e.children().first()).css("marginTop")&&(i=e.outerHeight(!1),a=i/2*-1+s/2,!1!==n.flipboxLensAdjust&&(a+=n.flipboxLensAdjust),t.css("margin-top",a))})},_enhanceDate:function(){Object.assign(this._date.prototype,{copy:function(e,t){return e=Object.assign([0,0,0,0,0,0,0],e),t=Object.assign([0,0,0,0,0,0,0],t),new Date(0<t[0]?t[0]:this.get(0)+e[0],0<t[1]?t[1]:this.get(1)+e[1],0<t[2]?t[2]:this.get(2)+e[2],0<t[3]?t[3]:this.get(3)+e[3],0<t[4]?t[4]:this.get(4)+e[4],0<t[5]?t[5]:this.get(5)+e[5],0<t[6]?t[5]:this.get(6)+e[6])},adj:function(e,t){if("number"!=typeof t||"number"!=typeof e)throw new Error("Invalid Arguments");switch(e){case 0:this.setD(0,this.get(0)+t);break;case 1:this.setD(1,this.get(1)+t);break;case 2:this.setD(2,this.get(2)+t);break;case 3:t*=60;case 4:t*=60;case 5:t*=1e3;case 6:this.setTime(this.getTime()+t)}return this},setD:function(e,t){switch(e){case 0:this.setFullYear(t);break;case 1:this.setMonth(t);break;case 2:this.setDate(t);break;case 3:this.setHours(t);break;case 4:this.setMinutes(t);break;case 5:this.setSeconds(t);break;case 6:this.setMilliseconds(t)}return this},get:function(e){switch(e){case 0:return this.getFullYear();case 1:return this.getMonth();case 2:return this.getDate();case 3:return this.getHours();case 4:return this.getMinutes();case 5:return this.getSeconds();case 6:return this.getMilliseconds()}return!1},get12hr:function(){return 0===this.get(3)?12:this.get(3)<13?this.get(3):this.get(3)-12},iso:function(){var e=[0,0,0],t=0;for(t=0;t<3;t++)e[t]=this.get(t),1===t&&e[t]++,e[t]<10&&(e[t]="0"+String(e[t]));return e.join("-")},comp:function(){return parseInt(this.iso().replace(/-/g,""),10)},getEpoch:function(){return Math.floor(this.getTime()/1e3)},getEpochDays:function(){return Math.floor(this.getTime()/864e5)},getArray:function(){var e=[0,0,0,0,0,0],t=0;for(t=0;t<6;t++)e[t]=this.get(t);return e},setFirstDay:function(e){return this.setD(2,1).adj(2,e-this.getDay()),10<this.get(2)&&this.adj(2,7),this},setDWeek:function(e,t){return 4===e?this.setD(1,0).setD(2,1).setFirstDay(4).adj(2,-3).adj(2,7*(t-1)):this.setD(1,0).setD(2,1).setFirstDay(e).adj(2,7*(t-1))},getDWeek:function(e){var t,i;switch(e){case 0:return t=this.copy([0,-1*this.getMonth()]).setFirstDay(0),Math.floor((this.getTime()-(t.getTime()+6e4*(this.getTimezoneOffset()-t.getTimezoneOffset())))/6048e5)+1;case 1:return t=this.copy([0,-1*this.getMonth()]).setFirstDay(1),Math.floor((this.getTime()-(t.getTime()+6e4*(this.getTimezoneOffset()-t.getTimezoneOffset())))/6048e5)+1;case 4:return 11===this.getMonth()&&28<this.getDate()?1:(t=this.copy([0,-1*this.getMonth()],!0).setFirstDay(4).adj(2,-3),(i=Math.floor((this.getTime()-(t.getTime()+6e4*(this.getTimezoneOffset()-t.getTimezoneOffset())))/6048e5)+1)<1?(t=this.copy([-1,-1*this.getMonth()]).setFirstDay(4).adj(2,-3),Math.floor((this.getTime()-t.getTime())/6048e5)+1):i);default:return 0}}})},_ord:{default:function(e){var t=e%10;return 9<e&&e<21||3<t?"th":["th","st","nd","rd"][t]}},_customformat:{default:function(e,t,i){return!1}},_formatter:function(e,a,t){var n,s=this,o=this.options,r=0;return void 0===t&&(t=!0),"dura"===o.mode.substr(0,4)&&(r=s._dur(this.theDate.getTime()-this.initDate.getTime()),e.match(/%Dd/)||(r[1]+=24*r[0]),e.match(/%Dl/)||(r[2]+=60*r[1]),e.match(/%DM/)||(r[3]+=60*r[2])),e=e.replace(/%(D|X|0|-)*([1-9a-zA-Z])/g,function(e,t,i){if("X"===t)return"function"==typeof s._customformat[o.mode]?s._customformat[o.mode](i,a,o):e;if("D"===t)switch(i){case"d":return r[0];case"l":return s._zPad(r[1]);case"M":return s._zPad(r[2]);case"S":return s._zPad(r[3]);case"A":return s.__("durationDays")[1===r[0]?0:1];default:return e}switch(i){case"a":return s.__("daysOfWeekShort")[a.getDay()];case"A":return s.__("daysOfWeek")[a.getDay()];case"b":return s.__("monthsOfYearShort")[a.getMonth()];case"B":return s.__("monthsOfYear")[a.getMonth()];case"C":return parseInt(a.getFullYear()/100);case"d":return s._zPad(a.getDate(),t);case"H":case"k":return s._zPad(a.getHours(),t);case"I":case"l":return s._zPad(a.get12hr(),t);case"m":return s._zPad(a.getMonth()+1,t);case"M":return s._zPad(a.getMinutes(),t);case"p":case"P":return n=s.__("meridiem")[a.get(3)<12?0:1].toUpperCase(),"P"===i?n.toLowerCase():n;case"s":return a.getEpoch();case"S":return s._zPad(a.getSeconds(),t);case"u":return s._zPad(a.getDay()+1,t);case"w":return a.getDay();case"y":return s._zPad(a.getFullYear()%100);case"Y":return a.getFullYear();case"E":return a.getFullYear()+543;case"V":return s._zPad(a.getDWeek(4),t);case"U":return s._zPad(a.getDWeek(0),t);case"W":return s._zPad(a.getDWeek(1),t);case"o":return"function"==typeof s._ord[o.useLang]?s._ord[o.useLang](a.getDate()):s._ord.default(a.getDate());case"j":return n=new s._date(a.getFullYear(),0,1),(n="000"+String(Math.ceil((a-n)/864e5)+1)).slice(-3);case"J":return a.toJSON();case"G":return n=a.getFullYear(),1===a.getDWeek(4)&&0<a.getMonth()?n+1:51<a.getDWeek(4)&&a.getMonth()<11?n-1:n;case"g":return n=a.getFullYear%100,1===a.getDWeek(4)&&0<a.getMonth()&&++n,51<a.getDWeek(4)&&a.getMonth()<11&&--n,s._zpad(n);default:return e}}),!0===s.__("useArabicIndic")&&!0===t&&(e=s._dRep(e)),e},_minStepFix:function(){var e=this.theDate.get(4),t=this.options.minuteStep,i=this.options.minStepRound,a=e%t;1<t&&0<a&&(i<0?e-=a:0<i?e+=t-a:e%t<t/2?e-=a:e+=t-a,this.theDate.setMinutes(e))},_newDateCheck:{enableDate:function(e){return-1<this.options.enableDates.indexOf(e.iso)},whiteDate:function(e){return!1!==this.options.whiteDates&&-1<this.options.whiteDates.indexOf(e.iso)},notToday:function(e){return!1!==this.options.notToday&&this.realToday.comp()===e.comp()},maxYear:function(e){var t=this.options.maxYear;return!1!==t&&e.get(0)>t},minYear:function(e){var t=this.options.minYear;return!1!==t&&e.get(0)<t},minDate:function(e){var t=this.options.minDate;return!1!==t&&e<(t=this.parseISO(t))},maxDate:function(e){var t=this.options.maxDate;return!1!==t&&((t=this.parseISO(t)).adj(2,1),t<e)},afterToday:function(e){return!1!==this.options.afterToday&&e<this.realToday},beforeToday:function(e){return!1!==this.options.beforeToday&&e>this.realToday},minmaxDays:function(e){var t,i,a=this.options.minDays,n=this.options.maxDays;return(!1!==a||!1!==n)&&(t=!1===a||this.realToday.getEpochDays()-(a+1)<e.getEpochDays(),i=!1===n||this.realToday.getEpochDays()+(n+1)>e.getEpochDays(),!(t&&i))},minHour:function(e){var t=this.options.minHour;return!1!==t&&e.get(3)<t},maxHour:function(e){var t=this.options.maxHour;return!1!==t&&e.get(3)>t},minTime:function(e){var t,i=this.options.minTime,a=e.get(3);return!1!==i&&(a<(t=this.options.minTime.split(":",2))[0]||!(a>t[0])&&e.get(4)<t[1])},maxTime:function(e){var t,i=this.options.maxTime,a=e.get(3);return!1!==i&&(!(a<(t=this.options.maxTime.split(":",2))[0])&&(a>t[0]||e.get(4)>t[1]))},validHours:function(e){return-1<this.options.validHours.indexOf(e.get(3))},blackDays:function(e){var t=this.options.blackDays;return!1!==t&&-1<t.indexOf(e.getDay())},blackDates:function(e){var t=this.options.blackDates;return!1!==t&&-1<t.indexOf(e.iso())},blackDatesRec:function(e){var t,i=this.options.blackDatesRec;if(!1===i)return!1;for(t=0;t<i.length;t++)if(!(-1!==i[t][0]&&i[t][0]!==e.get(0)||-1!==i[t][1]&&i[t][1]!==e.get(1)||-1!==i[t][2]&&i[t][2]!==e.get(2)))return!0;return!1}},_newDateChecker:function(e){var t,i=this,a=!1,n={good:!0,bad:!1,failrule:!1,passrule:!1,dateObj:e.copy()},s=["blackDays","blackDates","blackDatesRec","notToday","maxYear","minYear","afterToday","beforeToday","maxDate","minDate","minmaxDays","minHour","maxHour","minTime","maxTime"];if(i.realToday=new i._date,!1!==this.options.enableDates)return i._newDateCheck.whiteDate.call(i,e)?n.passrule="enableDates":(n.bad=!0,n.good=!1,n.failrule="enableDates"),n;if(!1!==this.options.validHours)return i._newDateCheck.validHours.call(i,e)?n.passrule="validHours":(n.bad=!0,n.good=!1,n.failrule="validHours"),n;if(i._newDateCheck.whiteDate.call(i,e))return n.passrule="whiteDates",n;for(t=0;t<s.length&&!a;t++)i._newDateCheck[s[t]].call(i,e)&&(n.bad=!0,n.good=!1,n.failrule=s[t],a=!0);return n},_getCleanDur:function(){var e=this,t=this,i=e.theDate.getEpoch()-e.initDate.getEpoch();return i<0&&(i=0,e.theDate=e.initDate.copy()),!1!==t.minDur&&i<t.minDur&&(e.theDate=new e._date(e.initDate.getTime()+1e3*t.minDur),i=t.minDur),!1!==t.maxDur&&i>t.maxDur&&(e.theDate=new e._date(e.initDate.getTime()+1e3*t.maxDur),i=t.maxDur),e.lastDuration=i,e.lastDurationA=e._dur(1e3*i),[i,e._dur(1e3*i)]},_check:function(){var e=this._newDateChecker(this.theDate);return this.dateOK=!0===e.good,e.good},_fixstepper:function(e){var t=this.options.durationSteppers,i=this.options.durationStep;-1<e.indexOf("d")&&(t.d=i),-1<e.indexOf("h")&&(t.d=1,t.h=i),-1<e.indexOf("i")&&(t.h=1,t.i=i),-1<e.indexOf("s")&&(t.i=1,t.s=i)},_ThemeDateCK:{selected:function(e){return!1!==this.options.slideHighPick&&(void 0!==this.originalDate&&this.originalDate.iso()===e.iso())},today:function(e){return!1!==this.options.slideHighToday&&this.realToday.iso()===e.iso()},highDates:function(e){var t=this.options.highDates;return!1!==t&&-1<t.indexOf(e.iso())},highDatesAlt:function(e){var t=this.options.highDatesAlt;return!1!==t&&-1<t.indexOf(e.iso())},highDatesRec:function(e){var t,i=this.options.highDatesRec;if(!1===i)return!1;for(t=0;t<i.length;t++)if(!(-1!==i[t][0]&&i[t][0]!==e.get(0)||-1!==i[t][1]&&i[t][1]!==e.get(1)||-1!==i[t][2]&&i[t][2]!==e.get(2)))return!0;return!1},highDays:function(e){var t=this.options.highDays;return!1!==t&&-1<t.indexOf(e.getDay())}},_parser:{default:function(e){return e}},_makeDate:function(e,t){var i,a,n,s,o=this,r=this.options,d=this.options.defaultValue,l=o.__fmt(),c=null,h=[],u=!1,p=new o._date,f={year:-1,mont:-1,date:-1,hour:-1,mins:-1,secs:-1,week:!1,wtyp:4,wday:!1,yday:!1,meri:0};if(void 0===t&&(t=!1),e=void 0===e?"":(!0===o.__("useArabicIndic")?o._dRep(e,-1):e).trim(),void 0===r.mode)return p;if(void 0!==o._parser[r.mode])return o._parser[r.mode].call(o,e);if("durationbox"===r.mode||"durationflipbox"===r.mode){if(l=l.replace(/%D([a-z])/gi,function(e,t){switch(t){case"d":case"l":case"M":case"S":return"("+e+"|[0-9]+)";default:return".+?"}}),c=(l=new RegExp("^"+l+"$")).exec(e),n=l.exec(o.__fmt()),null===c||c.length!==n.length)return"number"==typeof d&&0<d?new o._date(1e3*(o.initDate.getEpoch()+parseInt(d,10))):new o._date(o.initDate.getTime());for(a=o.initDate.getEpoch(),i=1;i<c.length;i++)s=parseInt(c[i],10),n[i].match(/^%Dd$/i)&&(a+=86400*s),n[i].match(/^%Dl$/i)&&(a+=3600*s),n[i].match(/^%DM$/i)&&(a+=60*s),n[i].match(/^%DS$/i)&&(a+=s);return new o._date(1e3*a)}if("%J"===l)return p=new o._date(e),isNaN(p.getDate())&&(p=new o._date),p;if(l=l.replace(/%(0|-)*([a-z])/gi,function(e,t,i){switch(h.push(i),i){case"p":case"P":case"b":case"B":return"("+e+"|.+?)";case"H":case"k":case"I":case"l":case"m":case"M":case"S":case"V":case"U":case"u":case"W":case"d":return"("+e+"|[0-9]{"+("-"===t?"1,":"")+"2})";case"j":return"("+e+"|[0-9]{3})";case"s":return"("+e+"|[0-9]+)";case"g":case"y":return"("+e+"|[0-9]{2})";case"E":case"G":case"Y":return"("+e+"|[0-9]{1,4})";default:return h.pop(),".+?"}}),c=(l=new RegExp("^"+l+"$")).exec(e),n=l.exec(o.__fmt()),null===c||c.length!==n.length){if(""!==e&&(u=!0),!1!==d&&""!==d)switch(typeof d){case"object":"function"==typeof d.getDay?p=d:3===d.length&&(p=o._pa(d,"time"===r.mode.substr(0,4)&&p));break;case"number":p=new o._date(1e3*d);break;case"string":p="+"===d.substr(0,1)?(new o._date).adj(5,parseInt(d.substr(1),10)):"-"===d.substr(0,1)?(new o._date).adj(5,-1*parseInt(d.substr(1),10)):"time"===r.mode.substr(0,4)?(a=Object.assign([0,0,0],d.split(":",3)),o._pa(a,p)):((a=Object.assign([0,0,0],d.split("-",3)))[1]--,o._pa(a,!1))}isNaN(p.getDate())&&(p=new o._date)}else{for(i=1;i<c.length;i++)switch(s=parseInt(c[i],10),h[i-1]){case"s":return new o._date(1e3*parseInt(c[i],10));case"Y":case"G":f.year=s;break;case"E":f.year=s-543;break;case"y":case"g":r.afterToday||s<r.twoDigitYearCutoff?f.year=2e3+s:f.year=1900+s;break;case"m":f.mont=s-1;break;case"d":f.date=s;break;case"H":case"k":case"I":case"l":f.hour=s;break;case"M":f.mins=s;break;case"S":f.secs=s;break;case"u":f.wday=s-1;break;case"w":f.wday=s;break;case"j":f.yday=s;break;case"V":f.week=s,f.wtyp=4;break;case"U":f.week=s,f.wtyp=0;break;case"W":f.week=s,f.wtyp=1;break;case"p":case"P":s=new RegExp("^"+c[i]+"$","i"),f.meri=s.test(o.__("meridiem")[0])?-1:1;break;case"b":-1<(a=o.__("monthsOfYearShort").indexOf(c[i]))&&(f.mont=a);break;case"B":-1<(a=o.__("monthsOfYear").indexOf(c[i]))&&(f.mont=a)}if(0!==f.meri&&(-1===f.meri&&12===f.hour&&(f.hour=0),1===f.meri&&12!==f.hour&&(f.hour=f.hour+12)),p=new o._date(o._n(f.year,0),o._n(f.mont,0),o._n(f.date,1),o._n(f.hour,0),o._n(f.mins,0),o._n(f.secs,0),0),f.year<100&&-1!==f.year&&p.setFullYear(f.year),-1<f.mont&&-1<f.date||-1<f.hour&&-1<f.mins&&-1<f.secs)return!0===t?[p,u]:p;!1!==f.week&&(p.setDWeek(f.wtyp,f.week),-1<f.date&&p.setDate(f.date)),!1!==f.yday&&p.setD(1,0).setD(2,1).adj(2,f.yday-1),!1!==f.wday&&p.adj(2,f.wday-p.getDay())}return!0===t?[p,u]:p},_event:function(e,t){var i,a,n=y(this).data("jtsage-datebox"),s=y(this).data("jtsage-datebox").options;if(!e.isPropagationStopped())switch(t.method){case"close":void 0===t.closeCancel&&(t.closeCancel=!1),n.cancelClose=t.closeCancel,n.close();break;case"open":n.open();break;case"set":if("object"==typeof t.value)n.theDate=t.value,n._t({method:"doset"});else{if("inline"!==s.displayMode&&"blind"!==s.displayMode||(n.originalDate=n.theDate),y(this).val(t.value),!1!==s.linkedField)if("string"==typeof s.linkedField)y(s.linkedField).val(n.callFormat(s.linkedFieldFormat,n.theDate,!1));else for(a=0;a<s.linkedField.length;a++)y(s.linkedField[a].id).val(n.callFormat(s.linkedField[a].format,n.theDate,!1));n.skipChange=!0,y(this).trigger("change")}break;case"doset":"function"==typeof n[i="_"+n.options.mode+"DoSet"]?n[i].call(n):n._t({method:"set",value:n._formatter(n.__fmt(),n.theDate),date:n.theDate});break;case"dooffset":t.type&&n._offset(t.type,t.amount,!0);break;case"dorefresh":n.refresh();break;case"doclear":y(this).val("").trigger("change");break;case"clear":y(this).trigger("change")}},_build:{default:function(){!(this.d.headerText="Error")!==this.d.intHTML&&this.d.intHTML.remove().empty(),this.d.intHTML=y("<div style='width:100%'><h2 style='text-align:center;color:red;'>Unknown Mode</h2></div>")},calbox:function(){var e,t,i,a=this,n=this.options,s=new a._date,o=a.theDate.copy(!1,[0,0,1,12,1,1,1]),r=o.copy([0,1]).adj(2,-1),d=o.get(1),l=o.get(0),c=a.__("calStartDay")-o.getDay(),h=a.__("calStartDay")-r.getDay()+6,u=o.copy([0,0,c]),p=r.copy([0,0,h]),f=(p.getEpochDays()-u.getEpochDays()+1)/7,m=u.copy(),_=n.calShowWeek?8:7,g="",b="",v={},D="";if(a.firstOfGrid=u,a.lastOfGrid=p,a.firstOfMonth=o,a.lastOfMonth=r,"boolean"!=typeof a.d.intHTML&&(a.d.intHTML.remove(),a.d.intHTML=null),a.d.headerText=a._grabLabel(a.__("titleDateDialogLabel")),a.d.intHTML=y("<span>"),a.d.intHTML.addClass(n.theme_spanStyle),!1===n.calNoHeader&&(g=a.style_pnHead(a._formatter(a.__("calHeaderFormat"),a.theDate),!0===a.__("isRTL")?n.theme_cal_NextBtn:n.theme_cal_PrevBtn,!0===a.__("isRTL")?n.theme_cal_PrevBtn:n.theme_cal_NextBtn,"dbCalPrev","dbCalNext"),!0===a.__("isRTL")&&g.children().each(function(e,t){g.prepend(t)}),g.appendTo(a.d.intHTML),a.d.intHTML.on(n.clickEvent,".dbCalNext",function(e){return e.preventDefault(),e.stopPropagation(),28<a.theDate.getDate()&&a.theDate.setDate(1),a._offset("m",1),!1}).on(n.clickEvent,".dbCalPrev",function(e){return e.preventDefault(),e.stopPropagation(),28<a.theDate.getDate()&&a.theDate.setDate(1),a._offset("m",-1),!1})),!1!==n.calUsePickers&&(g=a.style_picker(a._pickRanges(d,l,s.get(0),n.calYearPickRelative),n.theme_cal_Pickers,"dbCalPickMonth","dbCalPickYear"),!0===a.__("isRTL")&&g.children().each(function(e,t){g.prepend(t)}),g.appendTo(a.d.intHTML),a.d.intHTML.on("change","#dbCalPickMonth, #dbCalPickYear",function(){28<a.theDate.get(2)&&a.theDate.setD(2,1),a.theDate.setD(1,y("#dbCalPickMonth").val()),a.theDate.setD(0,y("#dbCalPickYear").val()),a._t({method:"displayChange",selectedDate:a.originalDate,shownDate:a.theDate,thisChange:"p",thisChangeAmount:null,gridStart:a.firstOfGrid,gridEnd:a.lastOfGrid,selectedInGrid:a.isSelectedInCalGrid(),selectedInBounds:a.isSelectedInBounds()}),a.refresh()})),g=y(a.style_calGrid()).appendTo(a.d.intHTML).find(".dbCalGrid").first(),n.calShowDays){for(a._cal_days=a.__("daysOfWeekShort").concat(a.__("daysOfWeekShort")),D=a.style_calRow(),n.calShowWeek&&D.append(a.style_calTxt("&nbsp",!1,8)),e=0;e<=6;e++)D.append(a.style_calTxt(a._cal_days[(e+a.__("calStartDay"))%7],!0,_));D.appendTo(g),!0===a.__("isRTL")&&D.children().each(function(e,t){D.prepend(t)})}for(n.calFormatter=a._prepFunc(n.calFormatter),n.calBeforeAppendFunc=a._prepFunc(n.calBeforeAppendFunc),t=0;t<f;t++){for(b=a.style_calRow(),n.calShowWeek&&b.append(a.style_calTxt(m.getDWeek(4),!1,8)),i=0;i<7;i++)(v=Object.assign(a._newDateChecker(m),a._cal_ThemeDate(m,d))).displayText=!1===n.calFormatter?v.dateObj.get(2):n.calFormatter.call(a,v),v.htmlObj=a.style_calBtn(v,_),v.eventObj=v.htmlObj.find(".dbEvent").first(),v.eventObj.data(v),!1!==n.calBeforeAppendFunc&&(v=n.calBeforeAppendFunc.call(a,v)),!1===n.calOnlyMonth||!0===v.inBounds?b.append(v.htmlObj):b.append(a.style_calTxt("&nbsp",!1,_)),m.adj(2,1);!0===a.__("isRTL")&&b.children().each(function(e,t){b.prepend(t)}),b.appendTo(g)}!1!==n.calShowDateList&&!1!==n.calDateList&&(a.style_dateList(a.__("calDateListLabel"),n.calDateList,n.theme_cal_DateList,"dbCalPickList").appendTo(a.d.intHTML),a.d.intHTML.on("change","#dbCalPickList",function(){var e=y(this).val().split("-");a.theDate=new a._date(e[0],e[1]-1,e[2],12,1,1,1),a._t({method:"doset"})})),a.d.intHTML.append(a._doBottomButtons.call(a,!1)),a.d.intHTML.on(n.clickEvent,".dbEvent",function(e){e.preventDefault(),y(this).data("good")&&(a.theDate=y(this).data("dateObj").copy(),a._t({method:"set",value:a._formatter(a.__fmt(),a.theDate),date:a.theDate}),a._t({method:"close"}))}).on(a.wheelEvent,function(e,t){e.preventDefault(),t=void 0===t?Math.sign(e.originalEvent.wheelDelta):t,a.theDate.setD(2,1),a._offset("m",0<t?1:-1)})},timebox:function(){this._build.datebox.call(this)},datetimebox:function(){this._build.datebox.call(this)},durationbox:function(){this._build.datebox.apply(this,[])},datebox:function(){var e,t,i,a,n=this,s=this.options,o=n.style_dboxCtr(),r="durationbox"===s.mode,d=["d","h","i","s"];for("boolean"!=typeof n.d.intHTML&&n.d.intHTML.empty().remove(),n.d.headerText=n._grabLabel("datebox"===s.mode||"datetimebox"===s.mode?n.__("titleDateDialogLabel"):n.__("titleTimeDialogLabel")),n.d.intHTML=y("<span>"),n.d.intHTML.addClass(s.theme_spanStyle),n.fldOrder=n._getFldOrder(s.mode),r?(n.dateOK=!0,n._fixstepper(n.fldOrder)):(n._check(),n._minStepFix()),"datebox"!==s.mode&&"datetimebox"!==s.mode||n.style_subHead(n._formatter(n.__("headerFormat"),n.theDate)).appendTo(n.d.intHTML),a=n.style_dboxRow(),t=0;t<n.fldOrder.length;t++)"a"===n.fldOrder[t]&&12!==n.__("timeFormat")||(e=r?s.durationSteppers[n.fldOrder[t]]:"i"===n.fldOrder[t]?s.minuteStep:1,(i=n.style_dboxCtrl(s.theme_dbox_PrevBtn,s.theme_dbox_NextBtn,n.fldOrder[t],r?n.__("durationLabel")[d.indexOf(n.fldOrder[t])]:null,s.theme_dbox_Inputs)).find("input").data({field:n.fldOrder[t],amount:e}),i.find(".dbBoxNext").data({field:n.fldOrder[t],amount:e}),i.find(".dbBoxPrev").data({field:n.fldOrder[t],amount:-1*e}),a.append(i));!0===n.__("isRTL")&&a.children().each(function(e,t){a.prepend(t)}),o.append(a),o.appendTo(n.d.intHTML),n._dbox_run_update(!0),n.d.intHTML.append(n._doBottomButtons.call(n,!0)),n.d.intHTML.on("change","input",function(){n._dbox_enter(y(this))}).on("keypress","input",function(e){13===e.which&&!0===n.dateOK&&(n._dbox_enter(y(this)),n._t({method:"set",value:n._formatter(n.__fmt(),n.theDate),date:n.theDate}),n._t({method:"close"}))}).on(n.wheelEvent,"input",function(e,t){e.preventDefault(),t=void 0===t?Math.sign(e.originalEvent.wheelDelta):t,n._offset(y(this).data("field"),(t<0?-1:1)*y(this).data("amount"))}).on(s.clickEvent,".dbBoxPrev, .dbBoxNext",function(e){n.d.intHTML.find(":focus").blur(),e.preventDefault(),n._offset(y(this).data("field"),y(this).data("amount"))})},timeflipbox:function(){this._build.flipbox.call(this)},datetimeflipbox:function(){this._build.flipbox.call(this)},durationflipbox:function(){this._build.flipbox.call(this)},flipbox:function(){var e,t,i,a=this,n=this.options,s=this.drag,o=a.style_fboxCtr(n.theme_fbox_RollHeight).addClass("dbRollerV "),r="",d="",l="durationflipbox"===n.mode;if("boolean"!=typeof a.d.intHTML?a.d.intHTML.empty().remove():a.d.input.on("datebox",function(e,t){"postrefresh"===t.method&&a.style_fboxPos()}),a.d.headerText=a._grabLabel("datebox"===n.mode||"datetimebox"===n.mode?a.__("titleDateDialogLabel"):a.__("titleTimeDialogLabel")),a.d.intHTML=y("<span>"),a.d.intHTML.addClass(n.theme_spanStyle),a.fldOrder=a._getFldOrder(n.mode),l?(a.dateOK=!0,a._getCleanDur(),a._fixstepper(a.fldOrder)):(a._check(),a._minStepFix()),n.fboxNatural="default"===n.fboxNatural?l:n.fboxNatural,"flipbox"!==n.mode&&"datetimeflipbox"!==n.mode||a.style_subHead(a._formatter(a.__("headerFormat"),a.theDate)).appendTo(a.d.intHTML),l){for(r=a.style_fboxDurLbls(),t=0;t<a.fldOrder.length;t++)e=a.fldOrder[t],r.append(a.style_fboxDurLbl(a.__("durationLabel")[["d","h","i","s"].indexOf(e)],a.fldOrder.length));!0===a.__("isRTL")&&r.css({direction:"rtl"}),a.d.intHTML.append(r)}for(t=0;t<a.fldOrder.length;t++){for(e=a.fldOrder[t],r=a.style_fboxRollCtr(a.fldOrder.length).addClass("dbRollerC"),d=a.style_fboxRollPrt().addClass("dbRoller"),r.data({field:e,amount:l?n.durationSteppers[e]:"i"===e?n.minuteStep:1}),i=-1*n.flen[e];i<n.flen[e]+1;i++)l?d.append(a.style_fboxRollCld(a._fbox_do_dur_math(e,i,t),0===i?n.theme_fbox_Selected:n.theme_fbox_Default)):d.append(a.style_fboxRollCld(a._fbox_do_roll_math(e,i),0===i?a.dateOK?n.theme_fbox_Selected:n.theme_fbox_Forbidden:n.theme_fbox_Default));n.fboxNatural&&d.children().each(function(e,t){d.prepend(t)}),r.append(d),!0===a.__("isRTL")?o.prepend(r):o.append(r)}a.d.intHTML.append(o),a.style_fboxLens().addClass("dbLens").css({pointerEvents:"none",position:"relative"}).appendTo(a.d.intHTML),a.d.intHTML.append(a._doBottomButtons.call(a,!0)),a.d.intHTML.on(s.eStart,".dbRoller",function(e,t){s.move||(void 0!==t&&(e=t),s.move=!0,s.target=y(this).children().first(),s.pos=parseInt(s.target.css("marginTop").replace(/px/i,""),10),s.start="touch"===e.type.substr(0,5)?e.originalEvent.changedTouches[0].pageY:e.pageY,s.end=!1,s.direc=n.fboxNatural?-1:1,s.velocity=0,s.time=Date.now(),e.stopPropagation(),e.preventDefault())})},slidebox:function(){var e,t,i=this,a=this.options,n=new i._date,s=i.theDate.get(1),o=i.theDate.get(0),r=i.theDate.copy(!1,[0,0,0,12,1,1,1]).adj(2,-3),d="",l={};for("boolean"!=typeof i.d.intHTML&&(i.d.intHTML.remove(),i.d.intHTML=null),i.dateOK=!0,i.d.headerText=i._grabLabel(i.__("titleDateDialogLabel")),i.d.intHTML=y("<span>"),i.d.intHTML.addClass(a.theme_spanStyle),!1===a.slideNoHeader&&(i.style_pnHead(i._formatter(i.__("calHeaderFormat"),i.theDate),a.theme_slide_PrevBtn,a.theme_slide_NextBtn,"dbSlidePrev","dbSlideNext").appendTo(i.d.intHTML),i.d.intHTML.on(a.clickEvent,".dbSlideNext",function(e){return e.preventDefault(),e.stopPropagation(),28<i.theDate.getDate()&&i.theDate.setDate(1),i._offset("m",1),!1}).on(a.clickEvent,".dbSlidePrev",function(e){return e.preventDefault(),e.stopPropagation(),28<i.theDate.getDate()&&i.theDate.setDate(1),i._offset("m",-1),!1})),!1!==a.slideUsePickers&&(i.style_picker(i._pickRanges(s,o,n.get(0),a.slideYearPickRelative),a.theme_slide_Pickers,"dbSlidePickMonth","dbSlidePickYear").appendTo(i.d.intHTML),i.d.intHTML.on("change","#dbSlidePickMonth, #dbSlidePickYear",function(){28<i.theDate.get(2)&&i.theDate.setD(2,1),i.theDate.setD(1,y("#dbSlidePickMonth").val()),i.theDate.setD(0,y("#dbSlidePickYear").val()),i.refresh()})),e=y(i.style_slideGrid()).appendTo(i.d.intHTML).find(".dbSlideGrid").first(),(d=i.style_slideRow()).append(i.style_slideCtrl("dbSlideWkPrev",!0===i.__("isRTL")?a.theme_slide_NextDateBtn:a.theme_slide_PrevDateBtn)),t=-3;t<=3;t++)(l=Object.assign(i._newDateChecker(r),i._slide_ThemeDate(r))).htmlObj=i.style_slideBtn(l),l.eventObj=l.htmlObj.find(".dbEventS").first(),l.eventObj.data(l),d.append(l.htmlObj),r.adj(2,1);d.append(i.style_slideCtrl("dbSlideWkNext",!0===i.__("isRTL")?a.theme_slide_PrevDateBtn:a.theme_slide_NextDateBtn)),!0===i.__("isRTL")&&d.children().each(function(e,t){d.prepend(t)}),d.appendTo(e),!1!==a.slideShowDateList&&!1!==a.slideDateList&&(i.style_dateList(i.__("calDateListLabel"),a.slideDateList,a.theme_slide_DateList,"dbSlidePickList").appendTo(i.d.intHTML),i.d.intHTML.on("change","#dbSlidePickList",function(){var e=y(this).val().split("-");i.theDate=new i._date(e[0],e[1]-1,e[2],12,1,1,1),i._t({method:"doset"})})),i.d.intHTML.append(i._doBottomButtons.call(i,!1)),i.d.intHTML.on(a.clickEvent,".dbEventS",function(e){e.preventDefault(),y(this).data("good")&&(i.theDate=y(this).data("dateObj").copy(),i._t({method:"set",value:i._formatter(i.__fmt(),i.theDate),date:i.theDate}),i._t({method:"close"}))}).on(a.clickEvent,".dbSlideWkNext",function(e){return e.preventDefault(),e.stopPropagation(),i._offset("d",7),!1}).on(a.clickEvent,".dbSlideWkPrev",function(e){return e.preventDefault(),e.stopPropagation(),i._offset("d",-7),!1}).on(i.wheelEvent,function(e,t){e.preventDefault(),t=void 0===t?Math.sign(e.originalEvent.wheelDelta):t,i._offset("d",0<t?7:-7)})}},_drag:{default:function(){return!1},timeflipbox:function(){this._drag.flipbox.call(this)},datetimeflipbox:function(){this._drag.flipbox.call(this)},durationflipbox:function(){this._drag.flipbox.call(this)},flipbox:function(){var d=this,l=this.options,c=this.drag;y(document).on(c.eMove,function(e){if(c.move&&"flipbox"===l.mode.slice(-7))return c.end="touch"===e.type.substr(0,5)?e.originalEvent.changedTouches[0].pageY:e.pageY,c.target.css("margin-top",c.pos+c.end-c.start),c.elapsed=Date.now()-c.time,c.velocity=100*(c.end-c.start)/(1+c.elapsed)*.8+.2*c.velocity,e.preventDefault(),e.stopPropagation(),!1}),y(document).on(c.eEnd,function(e){var t,i,a,n,s,o,r;c.move&&"flipbox"===l.mode.slice(-7)&&(c.velocity<15&&-15<c.velocity||!l.useKinetic?((c.move=!1)!==c.end&&(e.preventDefault(),e.stopPropagation(),c.tmp=c.target.closest(".dbRollerC"),t=!1!==l.flipSizeOverride?l.flipSizeOverride:c.target[0].getBoundingClientRect().height,d._offset(c.tmp.data("field"),parseInt((c.start-c.end)/t,10)*c.tmp.data("amount")*c.direc)),c.start=!1,c.end=!1):(c.move=!1,c.start=!1,c.end=!1,c.tmp=c.target.closest(".dbRollerC"),t=!1!==l.flipSizeOverride?l.flipSizeOverride:c.target[0].getBoundingClientRect().height,i=-.8*c.velocity*Math.exp(-c.elapsed/325)*8*-1,a=parseInt(c.target.css("marginTop").replace(/px/i,""),10),n=parseInt(a+i,10),s=c.pos-n,o=Math.round(s/t),r=o*c.tmp.data("amount")*c.direc,c.target.animate({marginTop:n},parseInt(1e4/c.velocity)+1e3,function(){d._offset(c.tmp.data("field"),r)}),e.preventDefault(),e.stopPropagation()))})}},_offset:function(e,t,i){var a,n,s,o,r=this,d=r.options,l=["y","m","d","h","i","s"].indexOf(e),c=32-r.theDate.copy([0],[0,0,32,13]).getDate(),h=[31,32-r.theDate.copy([0],[0,1,32,13]).getDate(),31,30,31,30,31,31,30,31,30,31],u="a"!==e&&("y"===e||void 0===d.rolloverMode[e]||!0===d.rolloverMode[e]);if(void 0===i&&(i=!0),"y"===e&&1===r.theDate.get(1)&&29===r.theDate.get(2)&&r.theDate.setD(2,28),"a"===e)t%2!=0&&(a=11<r.theDate.get(3)?-12:12,r.theDate.adj(3,a));else if(u)r.theDate.adj(l,t);else{switch(e){case"m":n=11,s=0,o=12;break;case"d":s=1,o=n=c;break;case"h":n=23,s=0,o=24;break;case"i":case"s":n=59,s=0,o=60}(a=r.theDate.get(l)+t)<s?a=a%o+o:n<a&&(a%=o),"m"===e&&r.theDate.get(2)>h[a]&&r.theDate.setD(2,h[a]),r.theDate.setD(l,a)}!0===i&&r.refresh(),d.useImmediate&&r._t({method:"doset"}),"calbox"===d.mode&&r._t({method:"displayChange",selectedDate:r.originalDate,shownDate:r.theDate,thisChange:e,thisChangeAmount:t,gridStart:r.getCalStartGrid(),gridEnd:r.getCalEndGrid(),selectedInGrid:r.isSelectedInCalGrid(),selectedInBounds:r.isSelectedInBounds()}),r._t({method:"offset",type:e,amount:t,newDate:r.theDate})},_startOffset:function(e){var t=this.options;return!1!==t.startOffsetYears&&e.adj(0,t.startOffsetYears),!1!==t.startOffsetMonths&&e.adj(1,t.startOffsetMonths),!1!==t.startOffsetDays&&e.adj(2,t.startOffsetDays),e},_posZero:function(e){return e<0?0:e},getModalPosition:function(){var e=this.options.displayForcePosition,t=this.d.mainWrap[0].getBoundingClientRect();return!1!==e?{position:"absolute",top:e[0],left:e[1]}:{position:"fixed",top:"50%",left:"50%","margin-left":t.width/2*-1,"margin-top":t.height/2*-1}},getDropPosition:function(e){var t,i=this,a=this.options,n=this.options.displayForcePosition,s=i.d.wrap[0].getBoundingClientRect(),o=i.d.mainWrap[0].getBoundingClientRect(),r=window.pageYOffset,d=window.pageXOffset,l=Math.max(document.documentElement.clientWidth,window.innerWidth||0)<=a.breakpointWidth.replace("px","");return void 0===(t={centerLeft:{top:i._posZero(r+s.top+s.height/2-o.height/2),left:i._posZero(d+s.left)},centerRight:{top:i._posZero(r+s.top+s.height/2-o.height/2),left:i._posZero(d+s.left+s.width-o.width)},centerMiddle:{top:i._posZero(r+s.top+s.height/2-o.height/2),left:i._posZero(d+s.left+s.width/2-o.width/2)},topLeft:{top:i._posZero(r+s.top-o.height-1),left:i._posZero(d+s.left)},topRight:{top:i._posZero(r+s.top-o.height-1),left:i._posZero(d+s.left+s.width-o.width)},topMiddle:{top:i._posZero(r+s.top-o.height-1),left:i._posZero(d+s.left+s.width/2-o.width/2)},bottomLeft:{top:i._posZero(r+s.top+s.height),left:i._posZero(d+s.left)},bottomRight:{top:i._posZero(r+s.top+s.height),left:i._posZero(d+s.left+s.width-o.width)},bottomMiddle:{top:i._posZero(r+s.top+s.height),left:i._posZero(d+s.left+s.width/2-o.width/2)}})[e]&&(e="bottomRight"),!1!==n?{position:"absolute",top:n[0],left:n[1]}:{position:"absolute",top:t[e].top,left:l?0:t[e].left}},getTheDate:function(){return this.theDate},getSelectedDate:function(){return this.originalDate},getLastDur:function(){return this.lastDuration},dateVisible:function(){return void 0===this.isSelectedInCalGrid||this.isSelectedInCalGrid()},setTheDate:function(e){this.theDate="object"==typeof e?e:this._makeDate(e),this.refresh(),this._t({method:"doset"})},parseDate:function(e,t){var i;return this.fmtOver=e,i=this._makeDate(t),this.fmtOver=!1,i},parseISO:function(e){return this.parseDate("%Y-%m-%d",e)},callFormat:function(e,t,i){return void 0===i&&(i=!1),this._formatter(e,t,i)},refresh:function(){var e=this,t=this.options;"function"!=typeof e._build[t.mode]?e._build.default.call(e):e._build[t.mode].call(e),!0===e.__("useArabicIndic")&&e._doIndic(),e.d.mainWrap.append(e.d.intHTML),e._t({method:"postrefresh"})},applyMinMax:function(e,t){var i,a=this.options,n=RegExp(/\d\d\d\d-\d\d-\d\d/);void 0===e&&(e=!0),void 0===t&&(t=!0),!0!==t&&!1!==a.minDate||(i=this.d.input.attr("min"),n.test(i)&&(a.minDate=i)),!0!==t&&!1!==a.maxDate||(i=this.d.input.attr("max"),n.test(i)&&(a.maxDate=i)),!0===e&&this._t({method:"refresh"})},_dur:function(e){return[Math.max(0,Math.floor(e/864e5)),Math.max(0,Math.floor(e/36e5%24)),Math.max(0,Math.floor(e/6e4%60)),Math.max(0,Math.floor(e/1e3%60))]},__:function(e){var t=this.options,i=t.lang[t.useLang],a=t[t.mode+"lang"],n="override"+e.charAt(0).toUpperCase()+e.slice(1);return void 0!==t[n]?t[n]:void 0!==i&&void 0!==i[e]?i[e]:void 0!==a&&void 0!==a[e]?a[e]:void 0!==t.lang.default[e]?t.lang.default[e]:"Err:NotFound"},__fmt:function(){var e=this,t=this.options;if(void 0!==e.fmtOver&&!1!==e.fmtOver)return e.fmtOver;switch(t.mode){case"timebox":case"timeflipbox":return e.__("timeOutput");case"durationbox":case"durationflipbox":return e.__("durationFormat");case"datetimebox":case"datetimeflipbox":return e.__("datetimeFormat");default:return e.__("dateFormat")}},_zPad:function(e,t){return void 0!==t&&"-"===t?String(e):(e<10?"0":"")+String(e)},_dRep:function(e,t){var i,a,n=48,s=57,o=1584,r="";for(-1===t&&(n+=o,s+=o,o=-1584),a=0;a<e.length;a++)r+=n<=(i=e.charCodeAt(a))&&i<=s?String.fromCharCode(i+o):String.fromCharCode(i);return r},_doIndic:function(){var e=this;e.d.intHTML.find("*").each(function(){y(this).children().length<1&&y(this).html(e._dRep(y(this).html()))}),e.d.intHTML.find("input").each(function(){y(this).val(e._dRep(y(this).val()))})},_n:function(e,t){return e<0?t:e},_pa:function(e,t){return"boolean"==typeof t?new this._date(e[0],e[1],e[2],0,0,0,0):new this._date(t.get(0),t.get(1),t.get(2),e[0],e[1],e[2],0)},_btwn:function(e,t,i){return t<e&&e<i},_grabLabel:function(e){var t,i,a=this.options,n=!1;return void 0===a.overrideDialogLabel?(t=this.d.input.attr("placeholder"),i=this.d.input.attr("title"),void 0!==t?t:void 0!==i?i:""===(n=y(document).find("label[for='"+this.d.input.attr("id")+"']").text())?e:n):a.overrideDialogLabel},_getFldOrder:function(e){switch(e){case"durationbox":case"durationflipbox":return this.__("durationOrder");case"timebox":case"timeflipbox":return this.__("timeFieldOrder");case"datetimebox":case"datetimeflipbox":return this.__("datetimeFieldOrder");default:return this.__("dateFieldOrder")}},_t:function(e){this.d.input.trigger("datebox",e)},_prepFunc:function(e){return!1===e||"function"==typeof e?e:"function"==typeof window[e]&&window[e]},_pickRanges:function(e,t,i,a){var n,s=this.options,o=!1===a?i:t,r=0,d=0,l={month:[],year:[]};for(n=0;n<=11;n++)n===e?l.month.push([n,this.__("monthsOfYear")[n],!0]):l.month.push([n,this.__("monthsOfYear")[n],!1]);for(r=s.calYearPickMin<1?o+s.calYearPickMin:s.calYearPickMin<1800?o-s.calYearPickMin:"NOW"===s.calYearPickMin?i:s.calYearPickMin,d=s.calYearPickMax<1800?o+s.calYearPickMax:"NOW"===s.calYearPickMax?i:s.calYearPickMax,n=r;n<=d;n++)n===t?l.year.push([n,n,!0]):l.year.push([n,n,!1]);return l},_stdSel:function(e,t,i){var a,n="<select class='"+i+"' id='"+t+"'>";for(a=0;a<e.length;a++)n+="<option value='"+e[a][0]+"'"+(!0===e[a][2]?" selected='selected'":"")+">"+e[a][1]+"</option>";return n+="</select>"},_stdBtn:{cancel:function(){var t=this,e=this.options;return y(t.style_btn(e.theme_cancelBtn,t.__("cancelButton"))).on(e.clickEvent,function(e){e.preventDefault(),t._t({method:"close",closeCancel:!0})})},clear:function(){var t=this,e=this.options;return y(t.style_btn(e.theme_clearBtn,t.__("clearButton"))).on(e.clickEvent,function(e){e.preventDefault(),t.d.input.val(""),t._t({method:"clear"}),t._t({method:"close",closeCancel:!0})})},close:function(e,t){var i=this,a=this.options;return void 0===t&&(t=!1),y(i.style_btn(a.theme_closeBtn,e)).addClass(!0===i.dateOK?"":"disabled").on(a.clickEvent,function(e){e.preventDefault(),!0===i.dateOK&&(!1===t?i._t({method:"set",value:i._formatter(i.__fmt(),i.theDate),date:i.theDate}):i._t(t),i._t({method:"close"}))})},today:function(){var t=this,i=this.options;return y(t.style_btn(i.theme_todayBtn,t.__("todayButtonLabel"))).on(i.clickEvent,function(e){e.preventDefault(),t.theDate=t._pa([0,0,0],new t._date),t._t({method:"doset"}),!1!==i.closeTodayButton&&t._t({method:"close"})})},tomorrow:function(){var t=this,i=this.options;return y(t.style_btn(i.theme_tomorrowBtn,t.__("tomorrowButtonLabel"))).on(i.clickEvent,function(e){e.preventDefault(),t.theDate=t._pa([0,0,0],new t._date).adj(2,1),t._t({method:"doset"}),!1!==i.closeTomorrowButton&&t._t({method:"close"})})}},_doBottomButtons:function(e){var t,i,a=this,n=this.options;if(!(n.useSetButton&&e||n.useTodayButton||n.useTomorrowButton||n.useClearButton||n.useCancelButton))return"";if(t=a.style_btnGrp(n.useCollapsedBut),n.useSetButton&&e){switch(n.mode){case"timebox":case"timeflipbox":i=a.__("setTimeButtonLabel");break;case"durationbox":case"duartionflipbox":i=a.__("setDurationButtonLabel");break;default:i=a.__("setDateButtonLabel")}a.setBut=a._stdBtn.close.call(a,i),a.setBut.appendTo(t)}return n.useTodayButton&&t.append(a._stdBtn.today.call(a)),n.useTomorrowButton&&t.append(a._stdBtn.tomorrow.call(a)),n.useClearButton&&t.append(a._stdBtn.clear.call(a)),n.useCancelButton&&t.append(a._stdBtn.cancel.call(a)),"function"==typeof a.style_btnGrpOut&&(t=a.style_btnGrpOut(n.useCollapsedBut,t)),t},close:function(){var e,t=this,i=this.options,a={};switch(i.closeCallback=t._prepFunc(i.closeCallback),!1!==i.closeCallback?a.afterclose=function(){i.closeCallback.apply(t,[{initDate:t.initDate,date:t.theDate,duration:t.lastDuration,cancelClose:t.cancelClose}].concat(i.closeCallbackArgs))}:a.afterclose=function(){return!0},i.displayMode){case"blind":t.d.mainWrap.slideUp();case"inline":return a.afterclose.call(),!0;default:y(".jtsage-datebox-backdrop-div").remove(),t.d.mainWrap.removeClass("db-show"),a.afterclose.call(),t.d.mainWrap.hide(),t.d.mainWrap.detach()}y(document).off(t.drag.eMove).off(t.drag.eEnd).off(t.drag.eEndA).off("resize"+t.eventNamespace).off("keydown"+t.eventNamespace),i.useFocus&&(t.fastReopen=!0,setTimeout((e=t,function(){e.fastReopen=!1}),300))},_create:function(){y(document).trigger("dateboxcreate");var e,t,i=this,a=Object.assign(this.options,this._getLongOptions(this.element),this.element.data("options")),n={input:this.element,wrap:this.element.parent(),mainWrap:y("<div class='dbContainer_"+this.uuid+"'>").css("zIndex",a.zindex),intHTML:!1},s="<style>.dbContainer_"+this.uuid+" { touch-action: none; width: "+a.controlWidth+a.controlWidthImp+"} @media (max-width: "+a.breakpointWidth+") { .dbContainer_"+this.uuid+" { width: 100% "+a.controlWidthImp+"} } "+(!1!==a.theme_headStyle?a.theme_headStyle:"")+"</style>",o=".datebox"+this.uuid,r={eStart:"touchstart"+o+" mousedown"+o,eMove:"touchmove"+o+" mousemove"+o,eEnd:"touchend"+o+" mouseup"+o,eEndA:["mouseup","touchend","touchcancel","touchmove"].join(o+" ")+o,move:!1,start:!1,end:!1,pos:!1,target:!1,delta:!1,tmp:!1};y("head").append(y(s)),i.d=n,i.drag=r,i.icons=this.icons,!1!==a.usePlaceholder&&i.d.input.attr("placeholder",i._grabLabel("string"==typeof a.usePlaceholder?a.usePlaceholder:"")),i.wheelEvent=a.disableWheel?"nonsenseEvent":void 0!==y.event.special.mousewheel?"mousewheel":"wheel",i.firstOfGrid=!1,i.lastOfGrid=!1,i.selectedInGrid=!1,i.skipChange=!1,i.cancelClose=!1,i.disabled=!1,i._date=window.Date,i._enhanceDate(),i.baseID=i.d.input.attr("id"),i.initDate=new i._date,i.initDate.setMilliseconds(0),i.theDate=a.defaultValue?i._makeDate():""!==i.d.input.val()?i._makeDate(i.d.input.val()):new i._date,""===i.d.input.val()&&i._startOffset(i.theDate),i.initDone=!1,a.showInitialValue&&i.d.input.val(i._formatter(i.__fmt(),i.theDate)),i.d.wrap=i.style_inWrap(i.d.input,a.theme_openButton),!1!==a.mode&&!1===a.buttonIcon&&(a.buttonIcon="time"===a.mode.substr(0,4)||"dur"===a.mode.substr(0,3)?a.buttonIconTime:a.buttonIconDate),a.useButton?(y(i.style_inBtn(a.buttonIcon,i.__("tooltip"),a.theme_openButton)).appendTo(i.d.wrap),i.d.wrap.on(a.clickEvent,".dbOpenButton",function(e){e.preventDefault(),a.useFocus?i.d.input.focus():i.disabled||i._t({method:"open"})})):i.style_inNoBtn(i.d.wrap),a.hideInput&&i.style_inHide(),a.runOnBlurCallback=i._prepFunc(a.runOnBlurCallback),i.d.input.on("focus.datebox",function(){!1===i.disabled&&a.useFocus&&i._t({method:"open"})}).on("change.datebox",function(){if(i.skipChange)return!(i.skipChange=!1);!1===a.runOnBlurCallback?!0===a.safeEdit?!1===(e=i._makeDate(i.d.input.val(),!0))[1]?i.theDate=e[0]:(i.theDate=i.originalDate,i._t({method:"doset"})):i.theDate=i._makeDate(i.d.input.val()):(e=i._makeDate(i.d.input.val(),!0),"object"!=typeof(t=a.runOnBlurCallback.call(i,{origDate:i.originalDate,input:i.d.input.val(),oldDate:i.theDate,newDate:e[0],isGood:!e[1],isBad:e[1]}))?i.theDate=e[0]:(i.theDate=t,i._t({method:"doset"}))),i.originalDate=i.theDate.copy(),i.refresh()}).on("datebox",i._event),a.lockInput&&i.d.input.attr("readonly","readonly"),i.d.input.is(":disabled")&&i.disable(),i.applyMinMax(!1,!1),"inline"!==a.displayMode&&"blind"!==a.displayMode||i.open(),y(document).trigger("dateboxaftercreate")},_destroy:function(){var e=this,t=this.options,i=e.d.wrap.find("dbOpenButton");!0===t.useButton&&(i.remove(),e.d.input.unwrap()),t.lockInput&&e.d.input.removeAttr("readonly"),e.d.input.off("datebox").off("focus.datebox").off("blur.datebox").off("change.datebox"),y(document).off(e.drag.eMove).off(e.drag.eStart).off(e.drag.eEnd).off(e.drag.eEndA).off("resize"+e.eventNamespace)},disable:function(){this.d.input.attr("disabled",!0),this.disabled=!0,this._t({method:"disable"})},enable:function(){this.d.input.attr("disabled",!1),this.disabled=!1,this._t({method:"enable"})},open:function(){var t=this,i=this.options,e=i.displayMode,a={};if(i.useFocus&&!0===t.fastReopen)return t.d.input.blur(),!1;if(t.theDate=t._makeDate(t.d.input.val()),t.originalDate=t.theDate.copy(),""===t.d.input.val()&&t._startOffset(t.theDate),t.d.input.blur(),"function"!=typeof t._build[i.mode]?t._build.default.call(t):t._build[i.mode].call(t),"function"==typeof t._drag[i.mode]&&t._drag[i.mode].call(t),t._t({method:"refresh"}),!0===t.__("useArabicIndic")&&t._doIndic(),t.d.intHTML.is(":visible"))return!1;if(t.d.mainWrap.empty(),i.useHeader&&t.d.mainWrap.append(y(t.style_mainHead(t.d.headerText,i.theme_headerTheme,i.theme_headerBtn))).find(".dbCloser").on(i.clickEvent,function(e){e.preventDefault(),t._t({method:"close",closeCancel:!0})}),t.d.mainWrap.append(t.d.intHTML).css("zIndex",i.zindex),t._t({method:"postrefresh"}),i.openCallback=t._prepFunc(i.openCallback),!1!==i.openCallback?a.afteropen=function(){t._t({method:"postrefresh"}),!1===i.openCallback.apply(t,[{initDate:t.initDate,date:t.theDate,duration:t.lastDuration}].concat(i.openCallbackArgs))&&t._t({method:"close"})}:a.afteropen=function(){t._t({method:"postrefresh"})},i.beforeOpenCallback=t._prepFunc(i.beforeOpenCallback),!1!==i.beforeOpenCallback&&!1===i.beforeOpenCallback.apply(t,[{initDate:t.initDate,date:t.theDate,duration:t.lastDuration}].concat(i.beforeOpenCallbackArgs)))return!1;switch(i.displayMode){case"inline":case"blind":t.initDone?"blind"===i.displayMode&&(t.refresh(),t.d.mainWrap.slideDown()):(t.d.mainWrap.insertAfter(t.style_attach(!0)).addClass(i.theme_inlineContainer).css({zIndex:"auto",marginRight:"right"===i.displayInlinePosition?0:"auto",marginLeft:"left"===i.displayInlinePosition?0:"auto"}),"blind"===i.displayMode&&t.d.mainWrap.hide(),t.initDone=!0),t._t({method:"postrefresh"});break;default:t.d.mainWrap.show().css("zIndex",i.zindex).appendTo(t.style_attach(!1)).addClass(i.theme_modalContainer).one(i.tranDone,function(){t.d.mainWrap.is(":visible")?a.afteropen.call():(a.afterclose.call(),t.d.mainWrap.removeClass("db-show"))}),t.d.backdrop=y("<div class='jtsage-datebox-backdrop-div'></div>").css(i.theme_backgroundMask).css("zIndex",i.zindex-1).appendTo("modal"===i.displayMode?t.style_attach(!1):"body").on(i.clickEvent,function(e){e.preventDefault(),i.dismissOutsideClick&&t._t({method:"close",closeCancel:!0})}),t.d.mainWrap.css("modal"===i.displayMode?t.getModalPosition.call(t):t.getDropPosition.call(this,i.displayDropdownPosition))}"modal"!==e&&"dropdown"!==e||(y(document).on("resize"+t.eventNamespace,function(){this.d.mainWarp.css("modal"===e?this.getModalPosition.call(this):this.getDropPosition.call(this,this.options.displayDropdownPosition))}.bind(t)),i.dismissOnEscape&&y(document).on("keydown"+t.eventNamespace,function(e){("key"in e?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&this._t({method:"close",closeCancel:!0})}.bind(t))),window.setTimeout(function(){t.d.mainWrap.addClass("db-show")},0),window.setTimeout(function(){t.d.mainWrap.trigger("oTransitionEnd")},200)},getCalStartGrid:function(){return this.firstOfGrid},getCalEndGrid:function(){return this.lastOfGrid},isSelectedInCalGrid:function(){var e=this;return!1!==e.firstOfGrid&&!1!==e.lastOfGrid&&(e.firstOfGrid.comp()<=e.originalDate.comp()&&e.originalDate.comp()<=e.lastOfGrid.comp())},isSelectedInBounds:function(){var e=this;return!1!==e.firstOfMonth&&!1!==e.lastOfMonth&&(e.firstOfMonth.comp()<=e.originalDate.comp()&&e.originalDate.comp()<=e.lastOfMonth.comp())},isInCalGrid:function(e){return!1!==this.firstOfGrid&&!1!==this.lastOfGrid&&(this.firstOfGrid.comp()<=e.comp()&&e.comp()<=this.lastOfGrid.comp())},_cal_ThemeDate:function(e,t){var i,a=this,n=this.options,s=!1,o={theme:n.theme_cal_Default,inBounds:!0},r=[["selected","theme_cal_Selected"],["today","theme_cal_Today"],["highDates","theme_cal_DateHigh"],["highDatesAlt","theme_cal_DateHighAlt"],["highDatesRec","theme_cal_DateHighRec"],["highDays","theme_cal_DayHigh"]];for(a.realToday=new a._date,e.get(1)!==t&&(o.inBounds=!1)!==n.calHighOutOfBounds&&(o.theme=n.theme_cal_OutOfBounds,!(s=!0)!==n.calSelectedOutOfBounds&&a._ThemeDateCK.selected.call(a,e)&&(o.theme=n.theme_cal_Selected)),i=0;i<r.length&&!s;i++)a._ThemeDateCK[r[i][0]].call(a,e)&&(o.theme=n[r[i][1]],s=!0);return o},_dbox_run_update:function(e){var t=this,i=this.options,a="durationbox"===i.mode;a&&t._getCleanDur(),!0!==e&&!0!=a&&(t._check(),"datebox"!==i.mode&&"datetimebox"!==i.mode||t.d.intHTML.find(".dbHeader").childern().first().text(t._formatter(t.__("headerFormat"),t.theDate)),i.useSetButton&&(!1===t.dateOK?t.setBut.addClass(i.disabledState):t.setBut.removeClass(i.disabledState))),t.d.intHTML.find("input").each(function(){switch(y(this).data("field")){case"y":y(this).val(t.theDate.get(0));break;case"m":y(this).val(t.theDate.get(1)+1);break;case"d":y(this).val(a?t.lastDurationA[0]:t.theDate.get(2));break;case"h":a?y(this).val(t.lastDurationA[1]):12===t.__("timeFormat")?y(this).val(t.theDate.get12hr()):y(this).val(t.theDate.get(3));break;case"i":a?y(this).val(t.lastDurationA[2]):y(this).val(t._zPad(t.theDate.get(4)));break;case"M":y(this).val(t.__("monthsOfYearShort")[t.theDate.get(1)]);break;case"a":y(this).val(t.__("meridiem")[11<t.theDate.get(3)?1:0]);break;case"s":a?y(this).val(t.lastDurationA[3]):y(this).val(t._zPad(t.theDate.get(5)))}}),!0===t.__("useArabicIndic")&&t._doIndic()},_dbox_enter:function(e){var t,i=parseInt(e.val(),10),a=this,n=0;if("M"===e.data("field")&&-1<(t=a.__("monthsOfYearShort").indexOf(e.val()))&&a.theDate.setMonth(t),""!==e.val()&&0===e.val().toString().search(/^[0-9]+$/))switch(e.data("field")){case"y":a.theDate.setD(0,i);break;case"m":a.theDate.setD(1,i-1);break;case"d":a.theDate.setD(2,i),n+=86400*i;break;case"h":a.theDate.setD(3,i),n+=3600*i;break;case"i":a.theDate.setD(4,i),n+=60*i;break;case"s":a.theDate.setD(5,i),n+=i}"durationbox"===this.options.mode&&a.theDate.setTime(a.initDate.getTime()+1e3*n),setTimeout(function(){a.refresh()},150)},_fbox_do_dur_math:function(e,t,i){var a,n=this,s={d:Number.MAX_SAFE_INTEGER,h:24,i:60,s:60}[e];if(0===i&&"d"!==e)switch(e){case"h":n.lastDurationA[1]+24*n.lastDurationA[0];break;case"i":n.lastDurationA[2]+60*n.lastDurationA[1]+24*n.lastDurationA[0]*60;break;case"s":n.lastDuration}else a=n.lastDurationA[["d","h","i","s"].indexOf(e)]+t;if(0===i)return a<0?"&nbsp;":a;for(a<0&&(a+=s);s-1<a;)a-=s;return a},_fbox_do_roll_math:function(e,t){var i,a,n=this,s=this.options,o=[],r=0,d=0,l=null;switch(e){case"y":return n.theDate.get(0)+t;case"m":return a=n.theDate.copy(!1,[0,0,1]).adj(1,t),n.__("monthsOfYearShort")[a.get(1)];case"d":if(!1!==s.rolloverMode.d)return n.theDate.copy([0,0,t]).get(2);for(d=32-n.theDate.copy([0],[0,0,32,13]).getDate(),r=n.theDate.get(3),i=0;i<d;i++)d<i+r?o.push(i+r-d):o.push(i+r);return(l=t%d)<0?o[o.length+l]:o[l];case"h":return a=n.theDate.copy([0,0,0,t]),12===n.__("timeFormat")?a.get12hr():a.get(3);case"i":return n._zPad(n.theDate.copy([0,0,0,0,t*s.minuteStep]).get(4));case"s":return n._zPad(n.theDate.copy([0,0,0,0,0,t]).get(5));case"a":return 11<n.theDate.get(3)?n.__("meridiem")[t%2==0?1:0]:n.__("meridiem")[t%2==0?0:1]}},_slide_ThemeDate:function(e){var t,i=this.options,a=!1,n={theme:i.theme_slide_Default},s=[["selected","theme_slide_Selected"],["today","theme_slide_Today"],["highDates","theme_slide_DateHigh"],["highDatesAlt","theme_slide_DateHighAlt"],["highDatesRec","theme_slide_DateHighRec"],["highDays","theme_slide_DayHigh"]];for(this.realToday=new this._date,t=0;t<s.length&&!a;t++)this._ThemeDateCK[s[t][0]].call(this,e)&&(n.theme=i[s[t][1]],a=!0);return n}})}(jQuery),function(e){e(document).ready(function(){e("[data-role='datebox']").each(function(){e(this).datebox()})})}(jQuery);
//# sourceMappingURL=jtsage-datebox-5.1.5.bulma.min.js.map